{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport Head from 'next/head';\nimport { isNull } from 'util';\nimport Card from '@/components/card';\nimport { Flex } from '@/components/container';\nimport { Radio, TextArea, InputNumber } from '@/components/input';\nimport Button from '@/components/button';\nimport { Arrow, Info, Close } from '@/components/svg';\nimport Tabs from '@/components/tabs';\nimport Loading from '@/components/loading';\nimport Timer from '@/components/timer';\nimport Notification from '@/components/notification';\nimport { Context } from '@/utils/global';\nimport initialCrypto from '@/utils/wasm_crypto';\nimport Wasm from '@/utils/wasm_exec';\nimport moment from '@/utils/moment';\nvar CryptoContext = React.createContext({\n  crypto: undefined\n});\n\nfunction showError(msg) {\n  Notification.message({\n    title: '错误',\n    content: \"\".concat(msg),\n    alertType: 'error'\n  });\n}\n\nfunction string2Bytes(input) {\n  return new Uint8Array(input.split(',').filter(function (item) {\n    return item != '';\n  }).map(function (item) {\n    return parseInt(item, 16);\n  }));\n}\n\nfunction bytes2string(input) {\n  return Array.from(input).map(function (item) {\n    return \"0x\".concat(item.toString(16).slice(-2).toUpperCase().padStart(2, '0'));\n  }).join(', ');\n}\n\nfunction bytes2hex(input) {\n  return Array.from(input).map(function (item) {\n    return \"\".concat(('0' + item.toString(16)).slice(-2).toLowerCase());\n  }).join('');\n}\n\nfunction hex2Bytes(input) {\n  if (input.length == 0) {\n    return new Uint8Array([]);\n  }\n\n  if (input.length & 1) {\n    input = '0' + input;\n  }\n\n  return new Uint8Array(input.match(/.{1,2}/g).map(function (item) {\n    return parseInt(item, 16);\n  }));\n}\n\nfunction TextInput(props) {\n  var _props$value = props.value,\n      defaultValue = _props$value === void 0 ? '' : _props$value,\n      _onChange = props.onChange,\n      closure = props.closure,\n      style = props.style,\n      restProps = _objectWithoutProperties(props, [\"value\", \"onChange\", \"closure\", \"style\"]);\n\n  var _React$useState = React.useState(defaultValue),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      value = _React$useState2[0],\n      setValue = _React$useState2[1];\n\n  if (!!closure) closure(function () {\n    return value;\n  }, function (v) {\n    return setValue(v);\n  });\n  return __jsx(TextArea, _extends({\n    value: value,\n    onChange: function onChange(e) {\n      setValue(value);\n      if (!!_onChange) _onChange(e);\n    },\n    style: _objectSpread({\n      width: '100%'\n    }, style)\n  }, restProps));\n}\n\nfunction BytesInput(props) {\n  var _props$value2 = props.value,\n      defaultValue = _props$value2 === void 0 ? new Uint8Array() : _props$value2,\n      _onChange2 = props.onChange,\n      closure = props.closure,\n      style = props.style,\n      restProps = _objectWithoutProperties(props, [\"value\", \"onChange\", \"closure\", \"style\"]);\n\n  var _React$useState3 = React.useState(bytes2string(defaultValue)),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      inputValue = _React$useState4[0],\n      setInput = _React$useState4[1];\n\n  var _React$useState5 = React.useState(defaultValue),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      value = _React$useState6[0],\n      setValue = _React$useState6[1];\n\n  var _React$useState7 = React.useState('Uint8Array'),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      r = _React$useState8[0],\n      setR = _React$useState8[1];\n\n  var _React$useContext = React.useContext(CryptoContext),\n      crypto = _React$useContext.crypto;\n\n  var resetValue = function resetValue() {\n    var ret = new Uint8Array();\n    if (r === 'Uint8Array') ret = string2Bytes(inputValue);else if (r === 'Base64') ret = crypto.exports.debase64(inputValue)[\"return\"];else if (r === '16进制字符串') ret = hex2Bytes(inputValue);else ret = new TextEncoder().encode(inputValue);\n    setValue(ret);\n    return ret;\n  };\n\n  var resetInput = function resetInput(r, v) {\n    if (r === 'Uint8Array') setInput(bytes2string(v));else if (r === 'Base64') setInput(crypto.exports.base64(v)[\"return\"]);else if (r === '16进制字符串') setInput(bytes2hex(v));else setInput(new TextDecoder().decode(v));\n  };\n\n  if (!!closure) closure(function () {\n    return resetValue();\n  }, function (v) {\n    setValue(v);\n    resetInput(r, v);\n  });\n  return __jsx(Flex, {\n    direction: \"TB\",\n    fullWidth: true\n  }, __jsx(TextArea, _extends({\n    value: inputValue,\n    onChange: function onChange(value) {\n      setInput(value);\n      if (!!_onChange2) _onChange2(value);\n    },\n    style: _objectSpread({\n      width: '100%'\n    }, style)\n  }, restProps)), __jsx(Radio, {\n    options: ['Uint8Array', 'Base64', '16进制字符串', 'UTF-8'],\n    selectedKey: r,\n    onChange: function onChange(k, v) {\n      resetInput(v, resetValue());\n      setR(v);\n    }\n  }));\n}\n\nfunction Tab(props) {\n  var _props$description = props.description,\n      description = _props$description === void 0 ? null : _props$description,\n      _props$keyEnable = props.keyEnable,\n      keyEnable = _props$keyEnable === void 0 ? true : _props$keyEnable,\n      _props$keyString = props.keyString,\n      keyString = _props$keyString === void 0 ? true : _props$keyString,\n      _props$keyLabel = props.keyLabel,\n      keyLabel = _props$keyLabel === void 0 ? '密钥' : _props$keyLabel,\n      _props$keyDefault = props.keyDefault,\n      keyDefault = _props$keyDefault === void 0 ? keyString ? '' : new Uint8Array() : _props$keyDefault,\n      _props$keyPh = props.keyPh,\n      keyPh = _props$keyPh === void 0 ? '请输入密钥' : _props$keyPh,\n      _props$ordinaryString = props.ordinaryString,\n      ordinaryString = _props$ordinaryString === void 0 ? true : _props$ordinaryString,\n      _props$ordinaryLabel = props.ordinaryLabel,\n      ordinaryLabel = _props$ordinaryLabel === void 0 ? '原二进制数组' : _props$ordinaryLabel,\n      _props$ordinaryDefaul = props.ordinaryDefault,\n      ordinaryDefault = _props$ordinaryDefaul === void 0 ? ordinaryString ? '' : new Uint8Array() : _props$ordinaryDefaul,\n      _props$ordinaryPh = props.ordinaryPh,\n      ordinaryPh = _props$ordinaryPh === void 0 ? '' : _props$ordinaryPh,\n      _props$codeLabel = props.codeLabel,\n      codeLabel = _props$codeLabel === void 0 ? '编码结果' : _props$codeLabel,\n      _props$codeString = props.codeString,\n      codeString = _props$codeString === void 0 ? true : _props$codeString,\n      _props$codeDefault = props.codeDefault,\n      codeDefault = _props$codeDefault === void 0 ? codeString ? '' : new Uint8Array() : _props$codeDefault,\n      _props$codePh = props.codePh,\n      codePh = _props$codePh === void 0 ? '' : _props$codePh,\n      _props$encodeLabel = props.encodeLabel,\n      encodeLabel = _props$encodeLabel === void 0 ? '编码' : _props$encodeLabel,\n      _props$decodeLabel = props.decodeLabel,\n      decodeLabel = _props$decodeLabel === void 0 ? '解码' : _props$decodeLabel,\n      encode = props.encode,\n      decode = props.decode;\n\n  var keyGetter = function keyGetter() {\n    return undefined;\n  };\n\n  var keySetter = function keySetter(v) {};\n\n  var ordinaryGetter = function ordinaryGetter() {\n    return undefined;\n  };\n\n  var ordinarySetter = function ordinarySetter(v) {};\n\n  var codeGetter = function codeGetter() {\n    return undefined;\n  };\n\n  var codeSetter = function codeSetter(v) {};\n\n  return __jsx(Flex, {\n    direction: \"TB\",\n    fullWidth: true\n  }, description, keyEnable ? __jsx(React.Fragment, null, keyString ? __jsx(TextInput, {\n    label: keyLabel,\n    placeholder: keyPh,\n    value: keyDefault,\n    closure: function closure(g, s) {\n      return keyGetter = g, keySetter = s;\n    }\n  }) : __jsx(BytesInput, {\n    label: keyLabel,\n    placeholder: keyPh,\n    value: keyDefault,\n    closure: function closure(g, s) {\n      return keyGetter = g, keySetter = s;\n    }\n  })) : null, ordinaryString ? __jsx(TextInput, {\n    label: ordinaryLabel,\n    placeholder: ordinaryPh,\n    value: ordinaryDefault,\n    closure: function closure(g, s) {\n      return ordinaryGetter = g, ordinarySetter = s;\n    }\n  }) : __jsx(BytesInput, {\n    label: ordinaryLabel,\n    placeholder: ordinaryPh,\n    value: ordinaryDefault,\n    closure: function closure(g, s) {\n      return ordinaryGetter = g, ordinarySetter = s;\n    }\n  }), __jsx(Flex, {\n    mainAxis: \"space-around\"\n  }, __jsx(Button, {\n    neumorphism: true,\n    prefix: __jsx(Arrow, {\n      style: {\n        transform: 'rotate(180deg)'\n      }\n    }),\n    disabled: !encode,\n    onClick: function onClick() {\n      try {\n        var _ordinary = ordinaryGetter();\n\n        var _key = keyGetter();\n\n        codeSetter(encode(_ordinary, _key));\n      } catch (err) {\n        showError(err);\n      }\n    }\n  }, encodeLabel), __jsx(Button, {\n    neumorphism: true,\n    prefix: __jsx(Arrow, null),\n    disabled: !decode,\n    onClick: function onClick() {\n      try {\n        var _code = codeGetter();\n\n        var _key2 = keyGetter();\n\n        ordinarySetter(decode(_code, _key2));\n      } catch (err) {\n        showError(err);\n      }\n    }\n  }, decodeLabel)), codeString ? __jsx(TextInput, {\n    label: codeLabel,\n    placeholder: codePh,\n    value: codeDefault,\n    closure: function closure(g, s) {\n      return codeGetter = g, codeSetter = s;\n    }\n  }) : __jsx(BytesInput, {\n    label: codeLabel,\n    placeholder: codePh,\n    value: codeDefault,\n    closure: function closure(g, s) {\n      return codeGetter = g, codeSetter = s;\n    }\n  }));\n}\n\nfunction BytesTab(props) {\n  return __jsx(Tab, {\n    description: __jsx(\"p\", null, \"\\u6BD4\\u7279\\u6570\\u7EC4\\u662F\\u53EF\\u89C6\\u6587\\u672C\\u5728\\u8BA1\\u7B97\\u673A\\u5185\\u90E8\\u7684\\u5B58\\u50A8\\u5F62\\u5F0F(UTF-8)\", __jsx(\"br\", null), \"\\u7531\\u4E8E\\u8FD9\\u91CC\\u4F7F\\u7528\\u7684\\u8F93\\u5165\\u8F93\\u51FA\\u5927\\u591A\\u90FD\\u662F\\u4E8C\\u8FDB\\u5236\\u6570\\u7EC4(Uint8Array)\\uFF0C\\u56E0\\u6B64\\u8981\\u5728\\u8F93\\u5165\\u6846\\u8F93\\u5165\\u8F93\\u51FA\\uFF0C\\u901A\\u5E38\\u90FD\\u9700\\u8981\\u5728\\u8FD9\\u91CC\\u5C06\\u6587\\u672C\\u8F6C\\u6362\\u4E3A\\u53EF\\u4EE5\\u8BC6\\u522B\\u7684\\u4E8C\\u8FDB\\u5236\\u6570\\u7EC4\"),\n    keyEnable: false,\n    ordinaryString: false,\n    ordinaryPh: \"0xE4, 0xBD, 0xA0, 0xE5, 0xA5, 0xBD, 0x21\",\n    codePh: \"\\u4F60\\u597D!\",\n    encode: function encode(ordinary) {\n      return new TextDecoder().decode(ordinary);\n    },\n    decode: function decode(code) {\n      return new TextEncoder().encode(code);\n    }\n  });\n}\n\nfunction Base64Tab(props) {\n  var _React$useContext2 = React.useContext(CryptoContext),\n      crypto = _React$useContext2.crypto;\n\n  return __jsx(Tab, {\n    description: __jsx(\"p\", null, \"Base64 \\u662F\\u4E00\\u79CD\\u7F16\\u7801\\u7B97\\u6CD5\\uFF0C\\u5C06\\u4E8C\\u8FDB\\u5236\\u5185\\u5BB9\\u7F16\\u7801\\u4E3A\\u53EF\\u89C6\\u7684\\u5B57\\u7B26\\u5185\\u5BB9\\uFF0C\\u4F7F\\u7528\\u8BE5\\u5E94\\u7528\\u53EF\\u4EE5\\u540C\\u65F6\\u8BBE\\u7F6E\\u4E0D\\u540C\\u4E8E\\u9ED8\\u8BA4\\u7684 Base64 \\u53EF\\u7528\\u5B57\\u7B26\\u96C6(\\u957F\\u5EA6\\u5FC5\\u987B\\u662F64)\\u3002 \\u8FD9\\u91CC\\u7531\\u4E8E\\u6240\\u6709\\u7684\\u5BC6\\u7801\\u5B66\\u5185\\u5BB9\\u90FD\\u4F7F\\u7528\\u4E8C\\u8FDB\\u5236\\u8F93\\u5165\\u8F93\\u51FA(Uint8Array)\\uFF0C\\u56E0\\u6B64\\u4E5F\\u53EF\\u4EE5\\u4F7F\\u7528 Base64 \\u6765\\u5C06\\u5176\\u8F6C\\u6362\\u4E3A\\u66F4\\u5BB9\\u6613\\u5C55\\u793A\\u7684\\u5F62\\u5F0F\"),\n    keyLabel: \"Base64 \\u53EF\\u7528\\u5B57\\u7B26\",\n    keyDefault: crypto.exports.defaultBase64Key,\n    ordinaryString: false,\n    ordinaryPh: \"0xE4, 0xBD, 0xA0, 0xE5, 0xA5, 0xBD, 0x21\",\n    codePh: \"5L2g5aW9IQ==\",\n    encode: function encode(ordinary, key) {\n      var ret = crypto.exports.base64(ordinary);\n\n      if (ret.success) {\n        return ret[\"return\"];\n      } else {\n        showError(ret[\"return\"]);\n        return '';\n      }\n    },\n    decode: function decode(code, key) {\n      var ret = crypto.exports.debase64(code);\n\n      if (ret.success) {\n        return ret[\"return\"];\n      } else {\n        showError(ret[\"return\"]);\n        return new Uint8Array();\n      }\n    }\n  });\n}\n\nfunction ReplaceTab(props) {\n  var _React$useContext3 = React.useContext(CryptoContext),\n      crypto = _React$useContext3.crypto;\n\n  return __jsx(Tab, {\n    description: __jsx(\"p\", null, \"\\u4EE3\\u6362\\u5BC6\\u7801\\uFF0C\\u6309\\u7167\\u67D0\\u79CD\\u7279\\u5B9A\\u7684\\u89C4\\u5219\\uFF08\\u5BC6\\u94A5\\uFF09\\u5C06\\u5B57\\u7B26\\u66FF\\u6362\\u6210\\u5176\\u4ED6\\u7684\\u5B57\\u7B26\\uFF08\\u4E8C\\u8FDB\\u5236\\u4E0B\\u4E3A\\u5B57\\u8282\\u7684\\u66FF\\u6362\\uFF09\", __jsx(\"br\", null), \"\\u5728\\u8FD9\\u91CC\\uFF0C\\u4F7F\\u7528\\u5B57\\u7B26\\u4E32\\u6765\\u4F5C\\u4E3A\\u5BC6\\u94A5\\u7684\\u8F93\\u5165\\uFF08\\u53EA\\u652F\\u6301\\u5B57\\u6BCD\\u548C\\u6570\\u5B57\\uFF09\\uFF0C\\u6309\\u7167\", __jsx(\"code\", null, \"A-Z\"), \"\\u3001\", __jsx(\"code\", null, \"a-z\"), \"\\u3001\", __jsx(\"code\", null, \"0-9\"), \"\\u7684\\u987A\\u5E8F\\u6765\\u8F93\\u5165\\u5176\\u66FF\\u6362\\u7684\\u5BC6\\u94A5\", __jsx(\"br\", null), \"\\u5982\\u4F20\\u7EDF\\u51EF\\u6492\\u5BC6\\u7801\\uFF08+3\\u66FF\\u6362\\uFF09\\u7684\\u5BC6\\u94A5\\u4E3A\", __jsx(\"code\", null, crypto.exports.caesar)),\n    keyLabel: \"\\u66FF\\u6362\\u5BC6\\u94A5\",\n    keyDefault: crypto.exports.caesar,\n    ordinaryPh: \"Bupt\",\n    codePh: \"Exsw\",\n    encode: function encode(ordinary, key) {\n      var ret = crypto.exports.encrypto_replace(ordinary, key);\n\n      if (ret.success) {\n        return ret[\"return\"];\n      } else {\n        showError(ret[\"return\"]);\n        return '';\n      }\n    },\n    decode: function decode(code, key) {\n      var ret = crypto.exports.decrypto_replace(code, key);\n\n      if (ret.success) {\n        return ret[\"return\"];\n      } else {\n        showError(ret[\"return\"]);\n        return '';\n      }\n    }\n  });\n}\n\nfunction HashTab(props) {\n  var _React$useState9 = React.useState('sha1'),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      value = _React$useState10[0],\n      setValue = _React$useState10[1];\n\n  var _React$useContext4 = React.useContext(CryptoContext),\n      crypto = _React$useContext4.crypto;\n\n  return __jsx(Flex, {\n    direction: \"TB\",\n    fullWidth: true\n  }, __jsx(Radio, {\n    options: ['sha1', 'sha224', 'sha256', 'sha384', 'sha512'],\n    onChange: function onChange(v) {\n      return setValue(v);\n    },\n    selectedKey: value\n  }), __jsx(Tab, {\n    description: __jsx(\"p\", null, \"\\u54C8\\u5E0C\\uFF08\\u6563\\u5217\\uFF09\\u7B97\\u6CD5\\u662F\\u4E00\\u79CD\\u4E0D\\u53EF\\u9006\\u7684\\u6620\\u5C04\\u51FD\\u6570\\uFF0C\\u5728\\u8FD9\\u91CC\\u8F93\\u5165\\u8F93\\u51FA\\u90FD\\u662F\\u6BD4\\u7279\\u6570\\u7EC4(Uint8Array)\\u3002\\u901A\\u5E38\\u5E94\\u8BE5\\u7ED3\\u5408\\u201C\\u6BD4\\u7279\\u6570\\u7EC4\\u8F6C\\u6362\\u201D\\u548C\\u201CBase64 \\u7F16\\u7801\\u201D\\u4F7F\\u7528\"),\n    keyEnable: false,\n    codeLabel: \"\\u54C8\\u5E0C\\u7ED3\\u679C\",\n    ordinaryPh: \"0xE4, 0xBD, 0xA0, 0xE5, 0xA5, 0xBD, 0x21\",\n    ordinaryString: false,\n    codePh: \"0xE4, 0xBD, 0xA0, 0xE5, 0xA5, 0xBD, 0x21\",\n    codeString: false,\n    encode: function encode(ordinary) {\n      var ret = crypto.exports[value](ordinary);\n\n      if (ret.success) {\n        return ret[\"return\"];\n      } else {\n        showError(ret[\"return\"]);\n        return new Uint8Array();\n      }\n    }\n  }));\n}\n\nfunction HmacTab(props) {\n  var _React$useState11 = React.useState('sha1'),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      value = _React$useState12[0],\n      setValue = _React$useState12[1];\n\n  var _React$useContext5 = React.useContext(CryptoContext),\n      crypto = _React$useContext5.crypto;\n\n  return __jsx(Flex, {\n    direction: \"TB\",\n    fullWidth: true\n  }, __jsx(Radio, {\n    options: ['sha1', 'sha224', 'sha256', 'sha384', 'sha512'],\n    onChange: function onChange(k, v) {\n      return setValue(k);\n    },\n    selectedKey: value\n  }), __jsx(Tab, {\n    description: __jsx(\"p\", null, \"\\u54C8\\u5E0C\\u6D88\\u606F\\u8BA4\\u8BC1\\u7801\\u662F\\u4E00\\u79CD\\u5E26\\u6709\\u5BC6\\u94A5\\u7684\\u54C8\\u5E0C\\u7B97\\u6CD5\\uFF0C\\u9664\\u53BB\\u54C8\\u5E0C\\u7B97\\u6CD5\\u63D0\\u4F9B\\u7684\\u5B8C\\u6574\\u6027\\uFF0C\\u8FD8\\u589E\\u52A0\\u4E86\\u8EAB\\u4EFD\\u9A8C\\u8BC1\\u7684\\u529F\\u80FD\"),\n    codeLabel: \"\\u54C8\\u5E0C\\u6D88\\u606F\\u9A8C\\u8BC1\\u7801\",\n    keyString: false,\n    keyPh: \"0x31, 0x32, 0x33, 0x34\",\n    ordinaryString: false,\n    ordinaryPh: \"0xE4, 0xBD, 0xA0, 0xE5, 0xA5, 0xBD\",\n    codeString: false,\n    codePh: \"0xC3, 0x5B, 0x67, 0x90, 0x50, 0x94, 0xA8, 0x6F, 0x35, 0xD7, 0x7B, 0xAB, 0x78, 0x0C, 0x74, 0x8A, 0x66, 0x6D, 0x09, 0x14\",\n    encode: function encode(ordinary, key) {\n      var ret = crypto.exports.hmac(ordinary, key, value);\n\n      if (ret.success) {\n        return ret[\"return\"];\n      } else {\n        showError(ret[\"return\"]);\n        return new Uint8Array();\n      }\n    }\n  }));\n}\n\nfunction DESTab(props) {\n  var _React$useContext6 = React.useContext(CryptoContext),\n      crypto = _React$useContext6.crypto;\n\n  return __jsx(Tab, {\n    description: __jsx(\"p\", null, \"DES \\u662F\\u4E00\\u79CD\\u5206\\u7EC4\\u52A0\\u5BC6\\u7B97\\u6CD5\\uFF0C\\u5728\\u8FD9\\u91CC\\u662F\\u539F\\u672C\\u7684 DES \\u5B9E\\u73B0\\uFF0C\\u672A\\u8003\\u8651\\u5206\\u7EC4\\u52A0\\u5BC6\\u5DE5\\u4F5C\\u65B9\\u5F0F\\uFF0C\\u56E0\\u6B64\\u8981\\u6C42\\u8F93\\u5165\\u3001\\u8F93\\u51FA\\u3001\\u5BC6\\u94A5\\u957F\\u5EA6\\u5FC5\\u987B\\u662F 64 bit\", __jsx(\"br\", null), \"\\u6BCF\\u4E00\\u8F6E\\u7684\\u8F93\\u51FA\\u5C06\\u4F1A\\u8F93\\u51FA\\u5230\\u5F00\\u53D1\\u8005\\u5DE5\\u5177(DevTools)\"),\n    keyLabel: \"DES \\u5BC6\\u94A5\",\n    keyString: false,\n    ordinaryString: false,\n    codeString: false,\n    encodeLabel: \"\\u52A0\\u5BC6\",\n    decodeLabel: \"\\u89E3\\u5BC6\",\n    encode: function encode(ordinary, key) {\n      var ret = crypto.exports.des_encrypto(ordinary, key);\n\n      if (ret.success) {\n        return ret[\"return\"];\n      } else {\n        showError(ret[\"return\"]);\n        return new Uint8Array();\n      }\n    },\n    decode: function decode(code, key) {\n      var ret = crypto.exports.des_decrypto(code, key);\n\n      if (ret.success) {\n        return ret[\"return\"];\n      } else {\n        showError(ret[\"return\"]);\n        return new Uint8Array();\n      }\n    }\n  });\n}\n\nfunction TotpTab(props) {\n  var _React$useContext7 = React.useContext(CryptoContext),\n      crypto = _React$useContext7.crypto;\n\n  var _React$useState13 = React.useState(6),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      digit = _React$useState14[0],\n      setDigit = _React$useState14[1];\n\n  var _React$useState15 = React.useState(30),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      diff = _React$useState16[0],\n      setDiff = _React$useState16[1];\n\n  var _React$useState17 = React.useState(0),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      code = _React$useState18[0],\n      setCode = _React$useState18[1];\n\n  var _React$useState19 = React.useState(Date.now()),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      left = _React$useState20[0],\n      setLeft = _React$useState20[1];\n\n  var keyGetter = function keyGetter() {\n    return undefined;\n  };\n\n  var keySetter = function keySetter(v) {};\n\n  var calc = function calc() {\n    var ret = crypto.exports.totp(keyGetter(), diff, digit);\n\n    if (ret.success) {\n      var _ret$return = ret[\"return\"],\n          _code2 = _ret$return.code,\n          _left = _ret$return.left;\n      setCode(_code2);\n      setLeft(Date.now() + _left * 1000);\n    } else {\n      setCode(0);\n      setLeft(Date.now() + 30 * 1000);\n      showError(ret[\"return\"]);\n    }\n  };\n\n  return __jsx(Flex, {\n    direction: \"TB\",\n    fullWidth: true\n  }, __jsx(\"p\", null, \"\\u57FA\\u4E8E\\u65F6\\u95F4\\u7684\\u4E00\\u6B21\\u4E00\\u5BC6\\u7B97\\u6CD5(TOTP)\\u662F\\u4E00\\u4E2A\\u6839\\u636E\\u5BC6\\u94A5\\u4EE5\\u53CA\\u65F6\\u95F4\\u751F\\u6210\\u5BC6\\u7801\\u7684\\u7B97\\u6CD5\\uFF0C\\u5E7F\\u6CDB\\u7528\\u4E8E\\u5404\\u79CD\\u5B89\\u5168\\u4EE4\\u3001\\u4E8C\\u6B65\\u9A8C\\u8BC1\\u7684\\u573A\\u666F\"), __jsx(Timer, {\n    style: {\n      margin: 'auto'\n    },\n    title: __jsx(\"span\", null, \"\\u5BC6\\u7801 \", code.toString().padStart(digit, '0')),\n    target: left,\n    format: function format(now, target) {\n      return \"\".concat(moment.duration(target - now).asSeconds().toFixed(3), \" \\u79D2\\u540E\\u5931\\u6548\");\n    },\n    onFinished: calc\n  }), __jsx(Flex, null, __jsx(InputNumber, {\n    label: \"\\u4F4D\\u6570\",\n    value: digit,\n    min: 1,\n    max: 10,\n    onChange: function onChange(v) {\n      return setDigit(parseInt(v.toString()));\n    }\n  }), __jsx(InputNumber, {\n    label: \"\\u65F6\\u95F4\\u5468\\u671F\",\n    value: diff,\n    min: 1,\n    max: 7200,\n    onChange: function onChange(v) {\n      return setDiff(parseInt(v.toString()));\n    }\n  }), __jsx(Button, {\n    neumorphism: true,\n    onClick: function onClick(e) {\n      return calc();\n    }\n  }, \"\\u5237\\u65B0\")), __jsx(BytesInput, {\n    label: \"\\u5BC6\\u94A5\",\n    closure: function closure(g, s) {\n      return keyGetter = g, keySetter = s;\n    }\n  }));\n}\n\nvar CryptoApp = /*#__PURE__*/function (_React$Component) {\n  _inherits(CryptoApp, _React$Component);\n\n  var _super = _createSuper(CryptoApp);\n\n  function CryptoApp(props) {\n    var _this;\n\n    _classCallCheck(this, CryptoApp);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"crypto\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"renderTabs\", function () {\n      var tabs = [{\n        title: '比特数组转换',\n        child: __jsx(BytesTab, null)\n      }, {\n        title: 'Base64 编码',\n        child: __jsx(Base64Tab, null)\n      }, {\n        title: '代换密码',\n        child: __jsx(ReplaceTab, null)\n      }, {\n        title: 'DES 加密',\n        child: __jsx(DESTab, null)\n      }, {\n        title: '基于时间一次一密',\n        child: __jsx(TotpTab, null)\n      }, {\n        title: '哈希算法',\n        child: __jsx(HashTab, null)\n      }, {\n        title: '哈希消息验证码算法',\n        child: __jsx(HmacTab, null)\n      }];\n      return __jsx(Tabs, {\n        defaultSelected: \"\\u6BD4\\u7279\\u6570\\u7EC4\\u8F6C\\u6362\",\n        keepInDOM: true\n      }, tabs.map(function (item, idx) {\n        return __jsx(Tabs.Item, {\n          name: item.title,\n          key: \"\".concat(idx),\n          disabled: isNull(item.child)\n        }, item.child);\n      }));\n    });\n\n    _this.state = {\n      loading: true,\n      error: undefined\n    };\n    return _this;\n  }\n\n  _createClass(CryptoApp, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.setState({\n                  loading: true\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return Wasm();\n\n              case 4:\n                _context.next = 6;\n                return initialCrypto();\n\n              case 6:\n                this.crypto = _context.sent;\n                this.setState({\n                  loading: false\n                });\n                _context.next = 14;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](1);\n                console.error(_context.t0);\n                this.setState({\n                  error: _context.t0\n                });\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 10]]);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (!!this.crypto) this.crypto.exit();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Card, {\n        neumorphism: true\n      }, __jsx(Context.Consumer, null, function (context) {\n        return __jsx(Head, null, __jsx(\"title\", null, \"\\u5728\\u7EBF\\u5BC6\\u7801\\u5DE5\\u5177|\".concat(context.blog_name)));\n      }), __jsx(Flex, {\n        direction: \"TB\",\n        fullWidth: true\n      }, __jsx(Notification, {\n        alertType: \"info\",\n        icon: __jsx(Info, {\n          style: {\n            border: '2px solid',\n            borderRadius: '100%'\n          }\n        }),\n        title: \"\\u63D0\\u793A\",\n        content: __jsx(\"p\", null, \"\\u672C\\u5E94\\u7528\\u7528\\u4E8E\\u5B9E\\u9A8C WASM \\u76F8\\u5173\\u6280\\u672F\\uFF0C\\u52A0\\u5BC6\\u7B97\\u6CD5\\u4F7F\\u7528 Go WebAssembly \\u5B9E\\u73B0\\uFF0C\\u53EF\\u80FD\\u65E0\\u6CD5\\u5728\\u8F83\\u8001\\u7684\\u6D4F\\u89C8\\u5668\\u8FD0\\u884C\", __jsx(\"br\", null), \"\\uFF08\\u770B\\u4E0A\\u53BB\\u8FD9\\u662F\\u4E2A\\u524D\\u7AEF\\uFF0C\\u5176\\u5B9E\\u4F7F\\u7528\\u540E\\u7AEF\\u5199\\u7684\\uFF0C\\u4F46\\u662F\\u5B9E\\u9645\\u4E0A\\u6700\\u82B1\\u65F6\\u95F4\\u7684\\u8FD8\\u662F\\u524D\\u7AEF\\uFF09\")\n      }), !!this.state.error ? __jsx(Flex, {\n        direction: \"TB\",\n        fullWidth: true,\n        style: {\n          textAlign: 'center'\n        }\n      }, __jsx(\"h3\", null, \"WebAssembly \\u52A0\\u8F7D\\u9519\\u8BEF\"), __jsx(\"p\", null, \"\\u6216\\u8BB8\\u4F60\\u9700\\u8981\\u5C1D\\u8BD5\\u4F7F\\u7528\\u66F4\\u73B0\\u4EE3\\u7684\\u6D4F\\u89C8\\u5668\"), __jsx(\"i\", null, \"\".concat(this.state.error)), __jsx(Close, {\n        style: {\n          color: 'var(--error-color)',\n          fontSize: '2.5em',\n          border: '2px solid',\n          borderRadius: '100%',\n          transition: 'color var(--transition-time),border var(--transition-time)'\n        }\n      })) : this.state.loading ? __jsx(Flex, {\n        direction: \"TB\",\n        fullWidth: true,\n        style: {\n          textAlign: 'center'\n        }\n      }, __jsx(\"h3\", null, \"\\u6B63\\u5728\\u52A0\\u8F7D WebAssembly \\u6A21\\u5757\\\"\"), __jsx(Loading, null)) : __jsx(CryptoContext.Provider, {\n        value: {\n          crypto: this.crypto\n        }\n      }, this.renderTabs())));\n    }\n  }]);\n\n  return CryptoApp;\n}(React.Component);\n\nexport default CryptoApp;","map":null,"metadata":{},"sourceType":"module"}