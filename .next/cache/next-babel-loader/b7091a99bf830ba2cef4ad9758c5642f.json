{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport { Icon } from '@ant-design/compatible';\nimport { Flex } from '@/components/container';\nimport { Light, Dark, Message, Rocket } from '@/components/svg';\nimport Button from '@/components/button';\nimport { Modal } from '@/components/popover';\nimport { Context } from '@/utils/global';\nimport styles from './fixed_button.less';\n\nfunction scrollTopAnimation(_currentY) {\n  var currentY = !!_currentY ? _currentY : document.documentElement.scrollTop || document.body.scrollTop;\n  var dist = Math.max(10, currentY / 20);\n  var newY = Math.max(0, currentY - dist);\n  window.scrollTo(0, newY);\n\n  if (newY > 0) {\n    setTimeout(function () {\n      scrollTopAnimation(newY);\n    }, 1);\n  }\n}\n\nfunction BackToTop() {\n  return __jsx(Button, {\n    circle: true,\n    neumorphism: true,\n    icon: __jsx(Rocket, null),\n    onClick: function onClick() {\n      return scrollTopAnimation();\n    }\n  });\n}\n\nfunction Feedback() {\n  var context = React.useContext(Context);\n  return __jsx(Button, {\n    circle: true,\n    icon: __jsx(Message, null),\n    neumorphism: true,\n    onClick: function onClick() {\n      Modal.info({\n        children: __jsx(\"div\", null, __jsx(\"p\", null, \"\\u6709\\u4E00\\u4E2A\", ' ', __jsx(\"a\", {\n          href: \"https://github.com/OhYee/blotter_page/issues\",\n          target: \"__blank\"\n        }, \"\\u524D\\u7AEF\\u7684Bug\"), \"\\uFF0C\\u5305\\u62EC\\u4F46\\u4E0D\\u9650\\u4E8E\\u9875\\u9762\\u6E32\\u67D3\\u4E0D\\u6B63\\u5E38\"), __jsx(\"p\", null, \"\\u6709\\u4E00\\u4E2A\", ' ', __jsx(\"a\", {\n          href: \"https://github.com/OhYee/blotter/issues\",\n          target: \"__blank\"\n        }, \"\\u540E\\u7AEF\\u7684Bug\"), \"\\uFF0C\\u5305\\u62EC\\u4F46\\u4E0D\\u9650\\u4E8E\\u5404\\u79CD\\u529F\\u80FD\\u6027\\u6545\\u969C\"), __jsx(\"p\", null, \"\\u76F4\\u63A5\\u4F7F\\u7528\", __jsx(\"a\", {\n          href: \"mailto:\".concat(context.email),\n          target: \"__blank\"\n        }, ' ', __jsx(Icon, {\n          type: \"mail\"\n        }), \" \\u90AE\\u4EF6\"), ' ', \"\\u53CD\\u9988bug\"), __jsx(\"p\", null, \"\\u76F4\\u63A5\\u4F7F\\u7528\", __jsx(\"a\", {\n          href: \"//wpa.qq.com/msgrd?v=3&uin=\".concat(context.qq, \"&site=qq&menu=yes\"),\n          target: \"__blank\"\n        }, ' ', __jsx(Icon, {\n          type: \"qq\"\n        }), \" QQ\"), ' ', \"\\u53CD\\u9988bug\"), __jsx(\"p\", null, \"\\u76F4\\u63A5\\u5728\\u8BC4\\u8BBA\\u533A\", __jsx(\"a\", {\n          href: \"/comment\",\n          target: \"__blank\"\n        }, ' ', __jsx(Icon, {\n          type: \"comment\"\n        }), \" \\u8BC4\\u8BBA\\u533A\"), ' ', \"\\u53CD\\u9988bug\"))\n      });\n    }\n  });\n}\n\nfunction ChangeTheme() {\n  var context = React.useContext(Context);\n  var theme = context.theme,\n      callback = context.callback;\n  return __jsx(Button, {\n    circle: true,\n    icon: theme == 'default' ? __jsx(Dark, null) : __jsx(Light, null),\n    neumorphism: true,\n    onClick: function onClick() {\n      var newTheme = theme == 'default' ? 'dark' : 'default';\n      callback({\n        theme: newTheme\n      }, function () {//   changeTheme(newTheme);\n      });\n    }\n  });\n}\n\nexport default function FixedButton() {\n  return __jsx(\"div\", {\n    className: styles.fixed_button\n  }, __jsx(Flex, {\n    direction: \"TB\"\n  }, __jsx(ChangeTheme, null), \" \", __jsx(Feedback, null), \" \", __jsx(BackToTop, null)));\n}","map":null,"metadata":{},"sourceType":"module"}