{"ast":null,"code":"import { message } from '@/components/notification';\nimport axios from 'axios';\n\nfunction parseURL(url) {\n  return url.length > 0 && url[0] !== '/' || typeof document !== 'undefined' ? url : 'http://127.0.0.1:50000' + url;\n}\n\nexport const requestAsync = async (method, url, data) => {\n  var r = await axios({\n    method: method,\n    url: parseURL(url),\n    params: data\n  });\n  return r.data;\n};\nexport const requestCallback = (method, url, data, callback) => {\n  axios({\n    method: method,\n    url: parseURL(url),\n    params: data\n  }).then(data => data.data).then(data => callback(data)).catch(err => console.log(err));\n};\nexport const request = async (method, url, data, callback) => {\n  try {\n    var r = await axios({\n      method: method,\n      url: parseURL(url),\n      params: method === 'get' ? data : undefined,\n      data: method === 'post' ? data : undefined\n    });\n  } catch (e) {\n    console.log(e);\n\n    if (typeof document !== 'undefined') {\n      message({\n        title: '请求发生错误',\n        content: `${e}`,\n        alertType: 'error'\n      });\n    }\n\n    throw e;\n  }\n\n  if (callback) {\n    callback(r.data);\n  }\n\n  return r.data;\n};","map":null,"metadata":{},"sourceType":"module"}